{% extends 'website/base.html' %}
{% block title %}Review{% endblock %}

{% block content %}

    <div class="container">
        <h1>Add a Review: </h1>
        <div class="grid grid-cols-3 gap-3">
           <form method="post" action="" name="form_type" value="formTwo">
            {% csrf_token %}
            <div>
                {{ form.as_p }}
            </div>
            <button type="submit"  class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600" name="review_form">
                Submit Review
            </button>
    <!--        <div id="rating" class="flex space-x-2 mb-4">
                <svg class="w-8 h-8 text-gray-400 hover:text-yellow-400 
                            cursor-pointer" fill="currentColor" viewBox="0 0 20 20" data-value="1">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.95 4.146.018c.958.004 1.355 1.226.584 1.818l-3.36 2.455 1.287 3.951c.3.922-.7561.688-1.541 1.125L10 13.011l-3.353 2.333c-.785.563-1.841-.203-1.541-1.125l1.287-3.951-3.36-2.455c-.77-.592-.374-1.814.584-1.818l4.146-.018 1.286-3.95z" />
                </svg>
                <svg class="w-8 h-8 text-gray-400 hover:text-yellow-400
                            cursor-pointer" fill="currentColor" viewBox="0 0 20 20" data-value="2">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.95 4.146.018c.958.004 1.355 1.226.584 1.818l-3.36 2.455 1.287 3.951c.3.922-.7561.688-1.541 1.125L10 13.011l-3.353 2.333c-.785.563-1.841-.203-1.541-1.125l1.287-3.951-3.36-2.455c-.77-.592-.374-1.814.584-1.818l4.146-.018 1.286-3.95z" />
                </svg>
                <svg class="w-8 h-8 text-gray-400 hover:text-yellow-400 
                            cursor-pointer" fill="currentColor" viewBox="0 0 20 20" data-value="3">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.95 4.146.018c.958.004 1.355 1.226.584 1.818l-3.36 2.455 1.287 3.951c.3.922-.7561.688-1.541 1.125L10 13.011l-3.353 2.333c-.785.563-1.841-.203-1.541-1.125l1.287-3.951-3.36-2.455c-.77-.592-.374-1.814.584-1.818l4.146-.018 1.286-3.95z" />
                </svg>
                <svg class="w-8 h-8 text-gray-400 hover:text-yellow-400 
                            cursor-pointer" fill="currentColor" viewBox="0 0 20 20" data-value="4">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.95 4.146.018c.958.004 1.355 1.226.584 1.818l-3.36 2.455 1.287 3.951c.3.922-.7561.688-1.541 1.125L10 13.011l-3.353 2.333c-.785.563-1.841-.203-1.541-1.125l1.287-3.951-3.36-2.455c-.77-.592-.374-1.814.584-1.818l4.146-.018 1.286-3.95z" />
                </svg>
                <svg class="w-8 h-8 text-gray-400 hover:text-yellow-400 
                            cursor-pointer" fill="currentColor" viewBox="0 0 20 20" data-value="5">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.95 4.146.018c.958.004 1.355 1.226.584 1.818l-3.36 2.455 1.287 3.951c.3.922-.7561.688-1.541 1.125L10 13.011l-3.353 2.333c-.785.563-1.841-.203-1.541-1.125l1.287-3.951-3.36-2.455c-.77-.592-.374-1.814.584-1.818l4.146-.018 1.286-3.95z" />
                </svg>
            </div>

            
            <div id="rating-text" class="text-lg mb-4">
                Rating: 0 stars
            </div>

            <button id="submit-btn" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">
                Rate
            </button>
            <button type="submit"  class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600" name="review_form">
                Submit Review
            </button>

            <div id="result" class="mt-4 hidden text-green-600 text-lg font-bold">
                Thank you! You rated: <span id="submitted-rating"  name="rating">0</span> stars.
            </div>
            <input id="rating-form" type="hidden" value="{{ form.rating }}" >-->
    </form>

        </div>
    </div>
    
	<!--<script>
		const stars = document.querySelectorAll('#rating svg');
		const ratingText = document.getElementById('rating-text');
		let selectedRating = 0;

		// Hover and click functionality for stars
		stars.forEach((star, index) => {
			star.addEventListener('click', () => {
				selectedRating = index + 1; 
				updateStars(selectedRating);
			});
		});

		function updateStars(rating) {
			stars.forEach((star, i) => {
				if (i < rating) {
					star.classList.add('text-yellow-400');
				} else {
					star.classList.remove('text-yellow-400');
				}
			});
			ratingText.innerHTML = `Rating: ${rating} star${rating > 1 ? 's' : ''}`;
		}

		const submitBtn = document.getElementById('submit-btn');
		const resultDiv = document.getElementById('result');
		const submittedRatingText = document.getElementById('submitted-rating');
        const rating = document.getElementById('rating-form');

		submitBtn.addEventListener('click', (event) => {
			if (selectedRating > 0) {
				resultDiv.classList.remove('hidden');
                rating.value = selectedRating;
				submittedRatingText.textContent = selectedRating;
                event.preventDefault();
			} else {
				alert('Please select a rating before submitting.');
                event.preventDefault();
			}

            return false;
		});
	</script>
        </div>
    </div>-->

{% endblock %}
